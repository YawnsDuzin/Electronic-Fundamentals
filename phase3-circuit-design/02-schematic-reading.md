# 02. 회로도(Schematic) 읽는 법

## 목차
1. [회로도란 무엇인가](#1-회로도란-무엇인가)
2. [주요 기호 정리](#2-주요-기호-정리)
3. [연결선과 교차점](#3-연결선과-교차점)
4. [노드 이름으로 연결 표시](#4-노드-이름으로-연결-표시)
5. [회로도에서 실제 배선으로 변환](#5-회로도에서-실제-배선으로-변환)
6. [회로도 읽기 연습](#6-회로도-읽기-연습)
7. [핵심 정리](#7-핵심-정리)

---

## 1. 회로도란 무엇인가

### 정의

회로도(Schematic)는 전자 부품들이 어떻게 연결되어 있는지를 **기호(Symbol)와 선(Wire)으로 표현한 도면**입니다. 실제 물리적 배치와는 무관하게, **전기적 연결 관계**만을 보여줍니다.

### 소프트웨어 비유

> 회로도는 소프트웨어의 **아키텍처 다이어그램**이나 **UML 클래스 다이어그램**과 같습니다.
> - 실제 코드의 파일 위치(물리적 배치)와 무관하게, 모듈 간의 의존 관계(전기적 연결)를 보여줍니다.
> - 회로도를 읽는 것 = 설계 문서를 읽는 것
> - 회로도를 브레드보드로 구현하는 것 = 설계 문서를 보고 코드를 작성하는 것

### 회로도 vs 실체 배선도

```
  회로도 (Schematic)              실체 배선도 (Wiring Diagram)
  ┌──────────────────┐           ┌──────────────────┐
  │                  │           │                  │
  │  기호와 선으로    │           │  실제 부품 모양과  │
  │  논리적 연결을    │           │  물리적 배치를     │
  │  표현             │           │  표현             │
  │                  │           │                  │
  │  → 설계 시 사용   │           │  → 조립 시 사용   │
  │  → "무엇이 어떻게 │           │  → "어디에 무엇을  │
  │     연결되나"     │           │     꽂나"         │
  └──────────────────┘           └──────────────────┘
```

---

## 2. 주요 기호 정리

### 수동 부품 기호

| 부품 | 기호 (ASCII) | 설명 | 회로도 표기 |
|------|-------------|------|-----------|
| 저항 (Resistor) | `-[===]-` 또는 `-/\/\/-` | 전류를 제한하는 부품 | R1, R2... |
| 커패시터 (Capacitor) | `-\|\|-` | 전하를 저장하는 부품 | C1, C2... |
| 전해 커패시터 (Electrolytic) | `-\|[+-` | 극성이 있는 커패시터 | C1, C2... (+ 표시) |
| 인덕터 (Inductor) | `-@@@@-` | 자기 에너지를 저장 | L1, L2... |

### 반도체 부품 기호

| 부품 | 기호 (ASCII) | 설명 | 회로도 표기 |
|------|-------------|------|-----------|
| LED | `-->▷\|--` | 빛을 내는 다이오드 | D1, LED1... |
| 다이오드 (Diode) | `--▷\|--` | 전류를 한 방향으로만 통과 | D1, D2... |
| NPN 트랜지스터 | 아래 별도 설명 | 전류를 증폭/스위칭 | Q1, Q2... |
| MOSFET | 아래 별도 설명 | 전압으로 스위칭 | Q1, M1... |

### 전원 및 접지 기호

| 기호 | ASCII 표현 | 의미 | 설명 |
|------|-----------|------|------|
| VCC / VDD | `+V` 또는 위쪽 화살표 | 양의 전원 | 전원 공급 양극 |
| 3.3V | `3V3` | 3.3V 전원 | ESP32 동작 전압 |
| 5V | `5V` | 5V 전원 | USB 전원 |
| GND | `⏚` 또는 삼각형 기호 | 접지 (0V) | 회로의 기준점 |

```
  전원 기호:                     접지(GND) 기호:

     VCC                            │
      │                            ─┴─
      │                            ─┬─     또는     │
  (전원 양극)                       ─┴─             ═╧═
                                     │              GND
                                   (접지)
```

### 스위치 기호

```
  푸시 버튼 (택트 스위치):       토글 스위치:

     ●    ●                       ●───╮
      \  /                             ╲
       \/                          ●    ●
       /\
      /  \                     SPDT (Single Pole Double Throw)
     ●    ●

  NO (Normally Open)
  = 평소에 열려있고,
    누르면 닫힘(연결)
```

### 기호 상세 그림

**저항 (Resistor)**

```
  미국식 (Zigzag):          국제식 (사각형):

       R1                       R1
  ──/\/\/\/──              ──┤    ├──
     10kΩ                    │10kΩ│
                             ┤    ├
```

**커패시터 (Capacitor)**

```
  무극성 (세라믹 등):        유극성 (전해 커패시터):

      C1                        C1
  ──┤  ├──                  ──┤+ ├──
    │  │                    │  │ │
    100nF                   10μF│
                               (-)
```

**LED (Light Emitting Diode)**

```
       LED1
         │
     ──▷│──
    (+)  │  (-)
  애노드   캐소드

  화살표 방향 = 전류 흐르는 방향
  세로 줄 = 캐소드 (짧은 다리, -)
```

**트랜지스터 (NPN)**

```
          C (컬렉터)
          │
  B ──┤   │
  (베이스) │
          │
          E (이미터)
```

---

## 3. 연결선과 교차점

### 연결 vs 비연결 (매우 중요!)

회로도에서 선이 교차할 때, **연결된 것인지 아닌지**를 구분하는 것이 중요합니다.

```
  연결됨 (Junction/Node):         연결되지 않음 (Cross-over):

       │                              │
   ────●────                      ────┼────
       │                              │

  교차점에 점(●)이 있으면            교차점에 점이 없으면
  = 전기적으로 연결됨               = 그냥 지나감 (연결 안 됨)
```

**추가적인 비연결 표시 방법:**

```
  반원으로 우회:                  끊어진 선:

       │                              │
   ────╭─────                     ──  ┼  ──
       │                              │

  선이 다른 선을 넘어가는 것을 명확히 표시
```

### 소프트웨어 비유

> **연결 (●)** = 두 변수가 같은 메모리를 참조 (포인터/레퍼런스 공유)
> **비연결 (┼)** = 이름이 비슷하지만 서로 다른 스코프의 변수

### 실전 예시

```
  이 회로도에서 연결 관계를 읽어봅시다:

        VCC
         │
         │
    R1   │   R2
  ──===──●──===──
         │
         │
       ──●──▷│── GND
         │   LED1
         │
        SW1
         │
        GND

  연결 관계:
  1. VCC → R1의 한쪽, R2의 한쪽 (●으로 연결)
  2. R1의 다른쪽 → LED1의 애노드, SW1의 한쪽 (●으로 연결)
  3. LED1의 캐소드 → GND
  4. SW1의 다른쪽 → GND
```

---

## 4. 노드 이름으로 연결 표시

### 노드(Net) 이름이란?

복잡한 회로도에서는 모든 연결을 선으로 그리면 매우 복잡해집니다.
이때 **같은 이름의 노드(Net Label)는 물리적으로 떨어져 있어도 전기적으로 연결**된 것으로 봅니다.

### 예시

```
  선으로 직접 연결한 경우:          노드 이름으로 연결한 경우:

  ESP32                           ESP32
  ┌──────┐                        ┌──────┐
  │ GPIO2├──────────── LED        │ GPIO2├── SIG_LED
  │      │                        │      │
  │  GND ├──────────── LED GND    │  GND ├── GND
  └──────┘                        └──────┘

                                  LED 부분 (다른 위치에 그려짐):

                                  SIG_LED ──[R1]──▷│── GND
                                                   LED1

  "SIG_LED"라는 같은 이름이 사용된 곳은
  실제로 전선으로 연결된 것과 동일합니다.
```

### 자주 사용되는 노드 이름

| 노드 이름 | 의미 | 설명 |
|----------|------|------|
| VCC | 전원 양극 | 주 전원 전압 |
| VDD | 전원 양극 | CMOS IC 전원 (VCC와 동일 의미) |
| GND | 접지 | 0V 기준점 |
| 3V3 | 3.3V | 3.3V 전원 레일 |
| 5V | 5V | 5V 전원 레일 |
| SDA | I2C 데이터 | I2C 데이터 라인 |
| SCL | I2C 클럭 | I2C 클럭 라인 |
| TX | UART 송신 | 직렬 통신 송신 |
| RX | UART 수신 | 직렬 통신 수신 |
| MOSI | SPI 마스터 출력 | SPI 데이터 (Master→Slave) |
| MISO | SPI 마스터 입력 | SPI 데이터 (Slave→Master) |
| SCK | SPI 클럭 | SPI 클럭 라인 |
| CS / SS | SPI 칩 선택 | SPI 슬레이브 선택 |

### 소프트웨어 비유

> 노드 이름은 프로그래밍의 **전역 변수명** 또는 **환경 변수명**과 같습니다.
> 서로 다른 파일(회로도 페이지)에서 같은 변수명을 사용하면 같은 값을 참조하는 것처럼,
> 같은 노드 이름은 같은 전기적 연결을 의미합니다.

---

## 5. 회로도에서 실제 배선으로 변환

### 변환 5단계 프로세스

```
  ┌──────────┐     ┌──────────┐     ┌──────────┐
  │ 1. 부품   │ ──→ │ 2. 연결   │ ──→ │ 3. 전원   │
  │   식별    │     │   관계    │     │   배선    │
  │          │     │   파악    │     │          │
  └──────────┘     └──────────┘     └──────────┘
                                          │
                                          ▼
                   ┌──────────┐     ┌──────────┐
                   │ 5. 검증   │ ←── │ 4. 신호   │
                   │          │     │   배선    │
                   └──────────┘     └──────────┘
```

### 단계별 상세 설명

**단계 1: 부품 식별**

회로도에서 사용된 모든 부품과 그 값을 목록으로 만듭니다.

```
  예시 회로도:

      3V3
       │
      [R1]
      10kΩ
       │
       ●──── GPIO2 (ESP32)
       │
      [SW1]
       │
      GND

  부품 목록:
  ┌─────┬───────────┬────────┐
  │ 번호 │ 부품       │ 값     │
  ├─────┼───────────┼────────┤
  │ R1  │ 저항       │ 10kΩ   │
  │ SW1 │ 푸시 버튼   │ -      │
  └─────┴───────────┴────────┘
```

**단계 2: 연결 관계 파악**

각 부품의 각 핀이 어디에 연결되는지 표로 정리합니다.

```
  연결 관계 표:
  ┌──────────────────┬──────────────────────────┐
  │ 핀               │ 연결되는 곳               │
  ├──────────────────┼──────────────────────────┤
  │ R1 핀1           │ 3V3 (3.3V 전원)          │
  │ R1 핀2           │ SW1 핀1, ESP32 GPIO2     │
  │ SW1 핀1          │ R1 핀2, ESP32 GPIO2      │
  │ SW1 핀2          │ GND                      │
  │ ESP32 GPIO2      │ R1 핀2, SW1 핀1          │
  └──────────────────┴──────────────────────────┘
```

**단계 3: 전원 배선 (먼저!)**

```
  브레드보드:

  (+) ━━━━━━━━━━━━━━━━━━━━━  ← ESP32 3V3 연결
  (-) ━━━━━━━━━━━━━━━━━━━━━  ← ESP32 GND 연결

  항상 전원을 먼저 배선합니다!
```

**단계 4: 신호 배선**

```
  (+) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  (-) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

         열5     열8    열10   열12
  a       │       │      │      │
  b      R1핀1   R1핀2          │
  c       │       │      │      │
  d       ●───점퍼선──→(+)레일  │      ← R1 한쪽을 3.3V에 연결
  e       │       ●──점퍼선──→ESP32 GPIO2  ← 중간 노드를 GPIO2에 연결
  ════════════════════════════════════
  f               │      │      │
  g              SW1    SW1     │      ← 스위치 배치 (중앙 홈 걸침)
  h               │      │      │
  i                      ●──점퍼선──→(-)레일  ← SW1 한쪽을 GND에 연결
  j               │      │      │
```

**단계 5: 검증**

- 연결 관계 표의 모든 항목이 배선되었는지 확인
- 멀티미터로 통전 테스트
- 전원을 인가하기 전에 쇼트(합선)가 없는지 확인

---

## 6. 회로도 읽기 연습

### 연습 1: LED + 저항 기본 회로

```
  회로도:

      ESP32
    ┌────────┐
    │  GPIO2 ├──── [R1 220Ω] ──── LED1(+) ──── LED1(-) ──── GND
    │        │
    │   GND  ├──── GND
    └────────┘

  읽는 방법:
  1. ESP32의 GPIO2 핀에서 출발
  2. 220Ω 저항(R1)을 거침
  3. LED1의 애노드(+)에 연결
  4. LED1의 캐소드(-)에서 GND로 연결

  동작: GPIO2를 HIGH로 설정하면 LED가 켜짐
```

**브레드보드 변환:**

```
  (+) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  (-) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━ ← ESP32 GND 연결

       열5  열6    열10  열11
  a
  b     R1 ─────── R1         ← 저항 (열5~열10)
  c          점퍼선↗
  d    ESP32 GPIO2에서 열5로
  e                LED+ LED-  ← LED (열10~열11)
  ═══════════════════════════
  f                     │
  g                     ●──→(-) 레일  ← LED 캐소드를 GND로
```

### 연습 2: LED + 저항 + 버튼 회로

```
  회로도:

        3V3
         │
        [R1]
        10kΩ
         │
         ●──────── GPIO4 (ESP32)
         │
        [SW1]
         │
        GND


        GPIO2 (ESP32) ──── [R2 220Ω] ──── LED1(+) ──── LED1(-) ──── GND

  읽는 방법:

  [버튼 입력 부분]
  1. 3.3V에서 10kΩ 풀업 저항(R1)을 통해
  2. ESP32 GPIO4와 스위치(SW1) 사이의 노드에 연결
  3. 스위치의 다른 쪽은 GND에 연결
  → 버튼을 안 누르면 GPIO4 = HIGH (3.3V가 풀업 저항을 통해 전달)
  → 버튼을 누르면 GPIO4 = LOW (GND로 직접 연결)

  [LED 출력 부분]
  1. GPIO2에서 220Ω 저항(R2)을 통해
  2. LED1에 연결, LED1의 캐소드는 GND

  동작: 버튼을 누르면(GPIO4=LOW) ESP32가 감지하여 GPIO2로 LED를 켜거나 끔
```

### 연습 3: 두 개의 LED와 버튼

```
  회로도:

        3V3                           3V3
         │                             │
        [R1]                          [R3]
        10kΩ                          220Ω
         │                             │
         ●──── GPIO4 (ESP32)     GPIO2 ●──── LED1(+) ── LED1(-) ── GND
         │
        [SW1]                         [R4]
         │                            220Ω
        GND                            │
                                 GPIO15 ●──── LED2(+) ── LED2(-) ── GND

  연결 관계 정리:

  ┌──────────────┬──────────────────────────────────┐
  │ 부품          │ 연결                              │
  ├──────────────┼──────────────────────────────────┤
  │ R1 (10kΩ)   │ 3V3 ↔ GPIO4/SW1 접합점            │
  │ SW1          │ R1/GPIO4 접합점 ↔ GND             │
  │ R3 (220Ω)   │ GPIO2 ↔ LED1 애노드               │
  │ LED1         │ R3 ↔ GND                         │
  │ R4 (220Ω)   │ GPIO15 ↔ LED2 애노드              │
  │ LED2         │ R4 ↔ GND                         │
  └──────────────┴──────────────────────────────────┘
```

### Arduino 코드 (연습 2, 3 공통 개념)

```cpp
// 회로도에 대응하는 코드
const int BUTTON_PIN = 4;   // GPIO4 - 풀업 저항으로 연결된 버튼
const int LED_PIN = 2;      // GPIO2 - 저항을 통해 연결된 LED

void setup() {
    pinMode(BUTTON_PIN, INPUT);   // 외부 풀업 저항이 있으므로 그냥 INPUT
    pinMode(LED_PIN, OUTPUT);
}

void loop() {
    int buttonState = digitalRead(BUTTON_PIN);

    if (buttonState == LOW) {     // 풀업이므로 눌리면 LOW
        digitalWrite(LED_PIN, HIGH);  // LED 켜기
    } else {
        digitalWrite(LED_PIN, LOW);   // LED 끄기
    }
}
```

---

## 회로도 읽기 팁

### 1. 전원부터 추적하라

```
  읽는 순서:
  ① VCC/3V3/5V 에서 시작 → 어디로 전원이 공급되는지 추적
  ② GND로 돌아오는 경로 확인 → 모든 전류는 GND로 돌아와야 함
  ③ 신호 경로 추적 → 입력(센서/스위치) → 처리(MCU) → 출력(LED/모터)
```

### 2. 블록 단위로 나눠서 읽어라

```
  복잡한 회로도 = 여러 개의 작은 블록의 조합

  ┌─────────┐   ┌─────────┐   ┌─────────┐
  │ 전원부   │   │ 입력부   │   │ 출력부   │
  │ (전원    │   │ (센서,   │   │ (LED,   │
  │  공급)   │   │  버튼)   │   │  모터)   │
  └─────────┘   └─────────┘   └─────────┘
       │              │              │
       └──────────────┼──────────────┘
                      │
                ┌─────────┐
                │  MCU    │
                │ (ESP32) │
                └─────────┘
```

### 3. 자주 나오는 패턴을 외워라

| 패턴 | 회로도 형태 | 의미 |
|------|-----------|------|
| 풀업 저항 | VCC → R → 핀, 핀 → 스위치 → GND | 기본 HIGH, 누르면 LOW |
| 풀다운 저항 | 핀 → 스위치 → VCC, 핀 → R → GND | 기본 LOW, 누르면 HIGH |
| LED 구동 | GPIO → R → LED → GND | LED 켜기/끄기 |
| 전압 분배 | VIN → R1 → VOUT → R2 → GND | 전압 낮추기 |
| 디커플링 | VCC ─┤C├─ GND (IC 옆) | 전원 노이즈 제거 |
| I2C 풀업 | SDA → R → VCC, SCL → R → VCC | I2C 통신용 |

---

## 7. 핵심 정리

```
┌──────────────────────────────────────────────────────────┐
│                  회로도 읽기 핵심 정리                      │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  1. 회로도 = 전기적 연결 관계를 기호로 표현한 도면          │
│     (물리적 배치와 무관)                                   │
│                                                          │
│  2. 주요 기호를 반드시 암기:                               │
│     저항 -[===]-  커패시터 -||-  LED --▷|--              │
│     VCC(+전원)  GND(접지)  스위치 ●/ ●                   │
│                                                          │
│  3. 교차점 규칙:                                          │
│     ● (점 있음) = 연결됨                                  │
│     ┼ (점 없음) = 연결 안 됨 (지나감)                     │
│                                                          │
│  4. 같은 노드 이름 = 전기적으로 연결                       │
│     (GND, VCC, SDA, SCL 등)                              │
│                                                          │
│  5. 회로도 → 배선 변환 5단계:                              │
│     부품식별 → 연결파악 → 전원배선 → 신호배선 → 검증       │
│                                                          │
│  6. 읽는 순서: 전원 → GND 경로 → 신호 경로                │
│                                                          │
│  소프트웨어 비유:                                         │
│  회로도 = 아키텍처 다이어그램                              │
│  회로도 읽기 = 설계 문서 읽기                              │
│  배선 변환 = 설계를 코드로 구현                            │
│  노드 이름 = 전역 변수명                                  │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

**다음 장:** [03. 풀업/풀다운 저항](./03-pullup-pulldown.md)에서 버튼 입력의 안정적인 읽기를 위한 풀업/풀다운 저항의 원리와 사용법을 학습합니다.
