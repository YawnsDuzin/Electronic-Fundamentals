# 05. GND(접지) 개념

## 목차
1. [GND(접지)란 무엇인가?](#1-gnd접지란-무엇인가)
2. [왜 접지가 필요한가? - 기준점](#2-왜-접지가-필요한가---기준점)
3. [Common Ground 개념](#3-common-ground-개념)
4. [ESP32와 외부 장치 연결 시 GND](#4-esp32와-외부-장치-연결-시-gnd)
5. [GND 미연결 시 발생하는 문제들](#5-gnd-미연결-시-발생하는-문제들)
6. [실전 GND 연결 가이드](#6-실전-gnd-연결-가이드)
7. [핵심 정리](#7-핵심-정리)

---

## 1. GND(접지)란 무엇인가?

### 개념

**GND (Ground, 접지)**는 전기 회로에서 **전압의 기준점(0V)**입니다.

모든 전압은 "어디에 비해서 얼마"라는 상대적인 값입니다.
GND는 바로 그 **"어디"에 해당하는 기준점**입니다.

```text
    ┌────────────────────────────────────────────────┐
    │                GND = 기준점 (0V)                │
    │                                                │
    │  "3.3V"라는 말의 진짜 의미:                     │
    │  → "GND(0V)보다 3.3V 높다"                     │
    │                                                │
    │  "5V"라는 말의 진짜 의미:                       │
    │  → "GND(0V)보다 5V 높다"                       │
    │                                                │
    │  모든 전압은 GND를 기준으로 측정됩니다.          │
    │  GND가 없으면 전압을 정의할 수 없습니다.         │
    └────────────────────────────────────────────────┘
```

### 비유: 건물의 층수

```text
    ┌────────────────────────────────────────────────┐
    │              건물 층수 비유                      │
    │                                                │
    │   5V   ─────  5층                              │
    │   3.3V ─────  3.3층                            │
    │   1V   ─────  1층                              │
    │   0V   ═════  지면 (Ground!) ← GND             │
    │                                                │
    │   "3층"이라는 것은 "지면에서 3층 높이"라는 뜻    │
    │   "3.3V"라는 것은 "GND에서 3.3V 높다"는 뜻      │
    │                                                │
    │   지면(GND)이 없으면 "3층"이라는 말도 의미 없음  │
    │   → GND가 없으면 "3.3V"라는 말도 의미 없음      │
    └────────────────────────────────────────────────┘
```

### GND의 회로 기호

```text
    회로도에서 GND를 표시하는 기호들:

    ┌──────────────────────────────────────────┐
    │                                          │
    │    ─┬─       ─┬─         ─┬─             │
    │     │        ─┴─          │              │
    │    ─┴─        │          ═╧═             │
    │     │         ▼                          │
    │    ─┴─                                   │
    │                                          │
    │  (신호 접지)  (섀시 접지)  (대지 접지)      │
    │  Signal GND  Chassis GND  Earth GND      │
    │                                          │
    │  ESP32에서 가장 많이 사용하는 것은          │
    │  신호 접지 (Signal GND) 입니다.            │
    └──────────────────────────────────────────┘
```

---

## 2. 왜 접지가 필요한가? - 기준점

### 전압은 항상 "상대적"이다

중요한 개념: **전압은 두 점 사이의 차이**입니다.

```text
    ┌────────────────────────────────────────────────────────┐
    │                                                        │
    │  잘못된 이해:                                          │
    │  "이 선에 3.3V가 흐르고 있다" (X)                      │
    │                                                        │
    │  올바른 이해:                                          │
    │  "이 선은 GND에 비해 3.3V 높다" (O)                    │
    │                                                        │
    │  비유:                                                 │
    │  "이 산의 높이는 100m다" → 해수면 기준으로 100m         │
    │  해수면이라는 기준이 없으면 높이를 정의할 수 없다       │
    │                                                        │
    └────────────────────────────────────────────────────────┘
```

### 배터리로 이해하기

```text
    1.5V 건전지:

        (+) ─── 1.5V
         │
        ┌┴┐
        │건│
        │전│    전압 차이 = 1.5V
        │지│
        └┬┘
         │
        (-) ─── 0V (GND, 기준점)

    실제로 중요한 것은 (+)와 (-) 사이의 "차이"인 1.5V입니다.
    (-) 단자를 기준(0V)으로 정하면, (+) 단자가 1.5V가 됩니다.
```

### 멀티미터로 측정할 때

```text
    멀티미터로 전압을 측정할 때:

        ┌──────────┐
        │ 멀티미터  │
        │  [3.3V]  │
        │          │
        │ COM  V+  │
        └──┬───┬──┘
           │   │
    검은선──┘   └──빨간선
    (GND에 연결)  (측정할 곳에 연결)

    → 검은선(COM, 기준)을 GND에 대고
    → 빨간선(V+)을 측정하고 싶은 곳에 대면
    → 화면에 "GND 기준 전압"이 표시됩니다

    검은선을 대는 곳(기준점)이 바로 GND 역할입니다!
```

---

## 3. Common Ground 개념

### Common Ground란?

**Common Ground (공통 접지)**는 여러 장치가 **같은 GND를 공유**하는 것입니다.

서로 다른 장치끼리 통신하거나 신호를 주고받으려면,
**반드시 같은 GND(기준점)를 공유**해야 합니다.

```text
    ┌────────────────────────────────────────────────────────┐
    │              Common Ground의 필요성                     │
    │                                                        │
    │  상황: ESP32가 센서의 데이터를 읽으려 함               │
    │                                                        │
    │  ┌────────┐    신호선    ┌────────┐                    │
    │  │        │─────────────│        │                    │
    │  │ ESP32  │             │  센서   │                    │
    │  │        │─────────────│        │                    │
    │  └────────┘    GND선    └────────┘                    │
    │        ▲                    ▲                          │
    │        │                    │                          │
    │        └─── 같은 GND 공유 ──┘                         │
    │             (Common Ground)                            │
    │                                                        │
    │  ESP32와 센서가 같은 GND를 기준으로                    │
    │  "이 신호는 3.3V야"라고 서로 이해할 수 있음            │
    └────────────────────────────────────────────────────────┘
```

### 비유: 같은 바닥에서 키 비교

```text
    ┌────────────────────────────────────────────────────────┐
    │                                                        │
    │  같은 바닥에 서 있어야 키를 비교할 수 있다              │
    │                                                        │
    │   올바른 비교 (같은 바닥 = Common Ground):              │
    │                                                        │
    │     170cm    180cm                                     │
    │     ┌──┐    ┌──┐                                       │
    │     │  │    │  │                                       │
    │     │  │    │  │                                       │
    │     │  │    │  │                                       │
    │     └──┘    └──┘                                       │
    │   ══════════════════  (같은 바닥)                       │
    │                                                        │
    │   → 180cm인 사람이 10cm 더 크다고 정확히 비교 가능     │
    │                                                        │
    │                                                        │
    │   잘못된 비교 (다른 바닥 = GND 미연결):                 │
    │                                                        │
    │             ┌──┐                                       │
    │     ┌──┐   │  │                                        │
    │     │  │   │  │                                        │
    │     │  │   └──┘                                        │
    │     │  │   ════════  (50cm 높은 단 위에 서 있음)        │
    │     └──┘                                               │
    │   ═══════                                              │
    │                                                        │
    │   → 키를 비교할 수 없음! (기준이 다르므로)             │
    │   → 전압도 마찬가지! GND가 다르면 신호를 이해할 수 없음 │
    │                                                        │
    └────────────────────────────────────────────────────────┘
```

---

## 4. ESP32와 외부 장치 연결 시 GND

### 기본 원칙

```text
    ┌────────────────────────────────────────────────────────┐
    │                                                        │
    │  ★★★  가장 중요한 규칙  ★★★                            │
    │                                                        │
    │  ESP32에 외부 장치를 연결할 때                          │
    │  신호선만 연결하면 안 됩니다!                           │
    │  반드시 GND도 함께 연결해야 합니다!                     │
    │                                                        │
    │  신호선 연결 + GND 연결 = 올바른 연결                   │
    │  신호선 연결 - GND 연결 = 동작하지 않거나 오작동        │
    │                                                        │
    └────────────────────────────────────────────────────────┘
```

### 올바른 연결 예시 1: 센서 연결

```text
    ┌───────────────┐              ┌───────────────┐
    │    ESP32      │              │   DHT22 센서   │
    │               │              │               │
    │  3.3V ────────┼──────────────┤ VCC           │
    │               │              │               │
    │  GPIO4 ───────┼──────────────┤ DATA          │
    │               │              │               │
    │  GND ─────────┼──────────────┤ GND           │
    │               │              │               │
    └───────────────┘              └───────────────┘

    ✓ 전원(3.3V), 신호(DATA), GND 모두 연결 → 정상 동작
```

### 올바른 연결 예시 2: 두 개의 ESP32 UART 통신

```text
    ┌───────────────┐              ┌───────────────┐
    │   ESP32 #1    │              │   ESP32 #2    │
    │               │              │               │
    │  TX ──────────┼──────────────┤ RX            │
    │               │              │               │
    │  RX ──────────┼──────────────┤ TX            │
    │               │              │               │
    │  GND ─────────┼──────────────┤ GND           │
    │               │     ▲        │               │
    └───────────────┘     │        └───────────────┘
                          │
                   반드시 GND 연결!
                   (Common Ground)

    TX↔RX: 통신 데이터선
    GND↔GND: 공통 기준점 (이것 없이는 통신 불가!)
```

### 올바른 연결 예시 3: ESP32 + 외부 전원으로 모터 구동

```text
    서로 다른 전원을 사용하는 경우에도 GND를 반드시 연결!

    ┌────────────┐
    │ USB 전원   │
    │ 5V         │
    │       (+)──┼──── ESP32 VIN
    │            │
    │       (-)──┼──┬─ ESP32 GND
    └────────────┘  │
                    │
                    │  ◀── GND를 서로 연결! (Common Ground)
                    │
    ┌────────────┐  │
    │ 외부 전원   │  │
    │ 12V        │  │
    │       (+)──┼──┼── 모터 드라이버 VIN
    │            │  │
    │       (-)──┼──┴── 모터 드라이버 GND ──── ESP32 GND
    └────────────┘

    비록 ESP32는 5V, 모터는 12V로 서로 다른 전원을 사용하지만
    GND는 반드시 연결해야 ESP32가 모터 드라이버를 제어할 수 있습니다.
```

### 브레드보드에서의 GND 연결

```text
    ┌──────────────────────────────────────────────────────────┐
    │                    브레드보드 예시                         │
    │                                                          │
    │  (-) ═══════════════════════════════════ GND 레일 (파란줄)│
    │  (+) ═══════════════════════════════════ VCC 레일 (빨간줄)│
    │  ┌─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┐  │
    │  │a│b│c│d│e│ │f│g│h│i│j│ │ │ │ │ │ │ │ │ │ │ │ │ │ │  │
    │  ├─┼─┼─┼─┼─┤ ├─┼─┼─┼─┼─┤ │ │ │ │ │ │ │ │ │ │ │ │ │  │
    │ 1│ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │  │
    │ 2│ │●│ │ │ │ │ │ │●│ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │  │
    │ 3│ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │  │
    │  ├─┼─┼─┼─┼─┤ ├─┼─┼─┼─┼─┤ │ │ │ │ │ │ │ │ │ │ │ │ │  │
    │  └─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┘  │
    │  (+) ═══════════════════════════════════ VCC 레일         │
    │  (-) ═══════════════════════════════════ GND 레일         │
    │                                                          │
    │  ★ GND 레일(파란줄)에 ESP32 GND를 연결해두면              │
    │    다른 부품들의 GND를 이 레일에 꽂기만 하면 됩니다.       │
    │                                                          │
    │  ★ 양쪽 GND 레일을 점퍼 와이어로 연결해두면              │
    │    브레드보드 어디서든 GND에 접근할 수 있습니다.           │
    └──────────────────────────────────────────────────────────┘
```

---

## 5. GND 미연결 시 발생하는 문제들

### 문제 1: 신호를 전혀 읽을 수 없음

```text
    ✗ 잘못된 연결 (GND 미연결):

    ┌───────────┐              ┌───────────┐
    │  ESP32    │              │   센서     │
    │           │              │           │
    │  GPIO ────┼──────────────┤ DATA      │
    │           │              │           │
    │  GND     │    ← 미연결!  │ GND       │
    │           │              │           │
    └───────────┘              └───────────┘

    결과:
    - ESP32는 센서의 데이터를 전혀 읽을 수 없음
    - 또는 무작위 값(쓰레기값)이 읽힘
    - 이유: 서로 다른 기준으로 전압을 해석하기 때문
```

### 문제 2: 불안정한 동작 (가끔 되고 가끔 안 됨)

```text
    GND가 느슨하게 연결된 경우:

    - 때때로 동작하다가 갑자기 이상한 값이 나옴
    - 만지면 동작하고 손을 떼면 안 됨
    - 진동이나 움직임에 따라 동작이 불안정

    원인:
    - 접촉 불량으로 GND 연결이 간헐적으로 끊김
    - 브레드보드 접촉 불량이 가장 흔한 원인

    해결:
    - GND 연결을 확실하게 다시 하기
    - 브레드보드 핀을 다른 열로 옮겨보기
    - 멀티미터로 GND 연결 상태(도통) 확인
```

### 문제 3: 노이즈와 간섭

```text
    GND 연결이 불완전하면:

    ┌────────────────────────────────────────────┐
    │  예상되는 깨끗한 신호:                      │
    │                                            │
    │  3.3V ──┐     ┌──┐     ┌──                │
    │         │     │  │     │                   │
    │  0V  ───┴─────┴──┴─────┴──                │
    │                                            │
    │  실제로 보이는 노이즈 낀 신호:              │
    │                                            │
    │  3.3V ──╮     ╭~~╮     ╭~~                │
    │         ╰~╮   ╯  ╰~╮  ╯                   │
    │  0V  ───╯ ╰~~~╯────╰~~╯──                │
    │                                            │
    │  → 디지털 통신 오류 (깨진 데이터)           │
    │  → 아날로그 값 부정확 (ADC 오차 큼)         │
    │  → I2C/SPI 통신 실패                       │
    └────────────────────────────────────────────┘
```

### 문제 4: 부품 손상

```text
    서로 다른 전원의 GND를 연결하지 않으면:

    ┌────────────┐              ┌────────────┐
    │ 장치 A      │              │ 장치 B      │
    │ (5V 전원)   │   신호선     │ (12V 전원)  │
    │ GPIO ───────┼──────────────┤ 입력       │
    │             │              │            │
    │ GND         │   미연결!    │ GND        │
    └────────────┘              └────────────┘

    위험:
    - 장치 A의 GND와 장치 B의 GND 사이에 전압 차이 발생 가능
    - 이 전압 차이가 신호선을 통해 과전압을 만들 수 있음
    - GPIO 핀이 손상될 수 있음!
    - 심한 경우 칩 전체가 고장날 수 있음
```

### 문제 5: I2C 장치가 인식되지 않음

```text
    I2C 통신에서 GND 문제:

    ┌──────────────┐              ┌──────────────┐
    │   ESP32      │              │  I2C 센서    │
    │              │              │ (예: BME280)  │
    │  SCL ────────┼──────────────┤ SCL          │
    │  SDA ────────┼──────────────┤ SDA          │
    │  3.3V ───────┼──────────────┤ VCC          │
    │  GND ────────┼──────────────┤ GND          │ ← 반드시!
    └──────────────┘              └──────────────┘

    GND가 연결되지 않으면:
    - I2C 스캔에서 장치가 검색되지 않음
    - Wire.begin() 후 아무 응답 없음
    - "I2C device not found" 에러 발생

    GND를 연결하면 바로 해결되는 경우가 매우 많습니다!
```

---

## 6. 실전 GND 연결 가이드

### 가이드 1: 기본 ESP32 프로젝트 배선

```text
    ┌──────────────────────────────────────────────────────┐
    │          기본 ESP32 프로젝트 배선도                    │
    │                                                      │
    │              ┌────────────────┐                      │
    │              │     ESP32      │                      │
    │              │                │                      │
    │  USB 전원 ──▶│ USB    3.3V ──┼──▶ 센서 VCC          │
    │              │                │                      │
    │              │ GPIO ──────────┼──▶ 센서 DATA         │
    │              │                │                      │
    │              │ GND ───┬───────┼──▶ 센서 GND          │
    │              │        │       │                      │
    │              └────────┼───────┘                      │
    │                       │                              │
    │                       ├──▶ LED의 (-) (캐소드)         │
    │                       │                              │
    │                       ├──▶ 버튼의 한쪽 단자           │
    │                       │                              │
    │                       └──▶ 브레드보드 GND 레일        │
    │                                                      │
    │  ★ ESP32의 GND 핀은 여러 개입니다.                    │
    │    모두 내부적으로 연결되어 있으므로                   │
    │    아무 GND 핀이나 사용해도 됩니다.                   │
    └──────────────────────────────────────────────────────┘
```

### 가이드 2: 여러 장치 연결 시 GND 배선

```text
    ┌──────────────────────────────────────────────────────────┐
    │         여러 장치의 GND를 하나로 모으기                    │
    │                                                          │
    │   ┌────────┐   ┌────────┐   ┌────────┐   ┌────────┐    │
    │   │ ESP32  │   │ 센서1  │   │ 센서2  │   │ 디스플  │    │
    │   │        │   │        │   │        │   │ 레이   │    │
    │   │  GND   │   │  GND   │   │  GND   │   │  GND   │    │
    │   └───┬────┘   └───┬────┘   └───┬────┘   └───┬────┘    │
    │       │             │           │             │          │
    │       └─────────────┴─────┬─────┴─────────────┘          │
    │                           │                              │
    │                    공통 GND 라인                          │
    │              (브레드보드의 GND 레일)                      │
    │                                                          │
    │   ★ 모든 장치의 GND를 하나의 공통점으로 연결             │
    │   ★ 브레드보드에서는 GND 레일(파란줄)을 활용             │
    │   ★ GND 연결선은 가능하면 짧고 굵게                     │
    └──────────────────────────────────────────────────────────┘
```

### 가이드 3: 서로 다른 전원을 사용할 때

```text
    ┌──────────────────────────────────────────────────────────┐
    │      서로 다른 전원을 사용하는 경우                        │
    │                                                          │
    │   ┌────────┐                    ┌────────────┐           │
    │   │USB 전원 │                    │ 외부 전원   │           │
    │   │  5V    │                    │   12V      │           │
    │   │ (+)(-)│                    │  (+) (-)  │           │
    │   └──┬──┬─┘                    └──┬───┬───┘           │
    │      │  │                        │   │                 │
    │      │  │    ┌────────────┐      │   │                 │
    │      │  └──┬─┤  ESP32     │      │   │                 │
    │      │     │ │            │      │   │                 │
    │      └─────┼─┤ VIN   GPIO├──────┼───┼─▶ 모터 드라이버  │
    │            │ │            │      │   │    신호선        │
    │            │ │ GND ──┬───┤      │   │                 │
    │            │ └───────┼───┘      │   │                 │
    │            │         │          │   │                 │
    │            │         │          │   │                 │
    │            └─────────┴──────────┘───┘                 │
    │                      ▲                                 │
    │                      │                                 │
    │               모든 GND를 한 점에서 연결!               │
    │               (이것이 Common Ground)                   │
    │                                                          │
    │   ★ 전원이 달라도 GND는 반드시 공유!                    │
    │   ★ GND를 연결하지 않으면 제어 신호가 전달되지 않음     │
    └──────────────────────────────────────────────────────────┘
```

### 가이드 4: GND 연결 체크리스트

```text
    ┌─────────────────────────────────────────────┐
    │         GND 연결 체크리스트                   │
    ├─────────────────────────────────────────────┤
    │                                             │
    │  □ ESP32의 GND가 브레드보드 GND 레일에       │
    │    연결되어 있는가?                          │
    │                                             │
    │  □ 모든 센서의 GND가 공통 GND에              │
    │    연결되어 있는가?                          │
    │                                             │
    │  □ 모든 액추에이터(모터, LED 등)의 GND가     │
    │    공통 GND에 연결되어 있는가?               │
    │                                             │
    │  □ 외부 전원을 사용하는 경우,                │
    │    외부 전원의 (-)와 ESP32 GND가             │
    │    연결되어 있는가?                          │
    │                                             │
    │  □ 다른 마이크로컨트롤러와 통신하는 경우,    │
    │    양쪽의 GND가 연결되어 있는가?             │
    │                                             │
    │  □ 브레드보드 양쪽 GND 레일이               │
    │    점퍼로 연결되어 있는가?                   │
    │    (일부 브레드보드는 양쪽이 분리됨)          │
    │                                             │
    └─────────────────────────────────────────────┘
```

### 자주 하는 실수와 해결

| 실수 | 증상 | 해결 |
|------|------|------|
| 센서 GND 미연결 | 값이 0이거나 무작위 | GND 연결 |
| 브레드보드 GND 레일 끊김 | 한쪽 부품만 동작 | 양쪽 레일을 점퍼로 연결 |
| UART 통신 시 GND 미연결 | 데이터가 깨짐 | 양쪽 장치 GND 연결 |
| 외부 전원 GND 미연결 | 모터가 제어 안 됨 | 외부전원(-)와 ESP32 GND 연결 |
| I2C GND 불량 | 장치 인식 안 됨 | GND 재연결 및 도통 확인 |
| GND 선이 너무 길거나 가늘 | 노이즈, 불안정 | 짧고 굵은 선으로 교체 |

---

## 7. 핵심 정리

```text
┌──────────────────────────────────────────────────────────────┐
│                         핵심 정리                             │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ★ GND = 전압의 기준점 (0V)                                  │
│    - 모든 전압은 GND를 기준으로 측정됨                       │
│    - "3.3V" = "GND보다 3.3V 높다"                            │
│                                                              │
│  ★ Common Ground (공통 접지):                                │
│    - 서로 통신/연결하는 장치들은 반드시 GND를 공유            │
│    - 전원이 다르더라도 GND는 연결해야 함                     │
│                                                              │
│  ★ GND 연결 규칙:                                            │
│    - 외부 장치 연결 시 신호선 + GND 반드시 함께 연결          │
│    - 모든 GND를 하나의 공통 점에 모으기                      │
│    - 브레드보드 GND 레일을 활용                              │
│    - GND 선은 짧고 확실하게                                  │
│                                                              │
│  ★ GND 미연결 시 문제:                                       │
│    - 신호를 읽을 수 없음 (값이 0 또는 쓰레기값)              │
│    - 통신 실패 (I2C, UART, SPI)                              │
│    - 노이즈와 불안정한 동작                                  │
│    - 최악의 경우 부품 손상                                   │
│                                                              │
│  ★ 디버깅 팁:                                                │
│    - 회로가 이상하면 가장 먼저 GND 연결을 확인!              │
│    - 초보자 문제의 50%는 GND 미연결/불량                     │
│    - 멀티미터 도통(연속성) 모드로 GND 연결 상태 확인         │
│                                                              │
│  ★ 기억할 것:                                                │
│    "이상하면 GND부터 확인하라!"                               │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

---

> **Phase 1 완료!**
>
> 축하합니다! Phase 1의 모든 내용을 학습하셨습니다.
> 이제 전압, 전류, 저항, 전력, 직렬/병렬 회로, DC/AC, GND의 기초를 이해하고 있습니다.
>
> 다음 단계: [Phase 2: 핵심 부품 이해](../phase2-components/)에서
> 저항, 커패시터, 다이오드, 트랜지스터 등 실제 부품에 대해 알아봅니다.
