# 03. 직렬 vs 병렬 회로

## 목차
1. [직렬 회로란?](#1-직렬-회로란)
2. [병렬 회로란?](#2-병렬-회로란)
3. [직렬과 병렬 비교 요약](#3-직렬과-병렬-비교-요약)
4. [저항의 직렬/병렬 합성 공식](#4-저항의-직렬병렬-합성-공식)
5. [LED 직렬 vs 병렬 연결 (실전)](#5-led-직렬-vs-병렬-연결-실전)
6. [연습 문제](#6-연습-문제)
7. [핵심 정리](#7-핵심-정리)

---

## 1. 직렬 회로란?

### 개념

**직렬 회로(Series Circuit)**는 부품들이 **한 줄로 이어진** 회로입니다.
전류가 흐르는 길이 **하나뿐**이어서, 모든 부품에 **같은 전류**가 흐릅니다.

### 직렬 회로 그림

```text
    ┌──────────────────────────────────────────┐
    │           직렬 회로 (Series Circuit)       │
    │                                          │
    │   전원(+)                                │
    │     │                                    │
    │     ├──┤R1├──┤R2├──┤R3├──┐               │
    │     │                    │               │
    │   전원(-)────────────────┘               │
    │                                          │
    │   → 전류가 하나의 길로만 흐른다            │
    └──────────────────────────────────────────┘
```

더 자세한 그림:

```text
        (+) 5V
         │
         │  I (전류는 모든 곳에서 동일)
         ▼
        ┌┴┐
        │ │ R1 = 100Ω     ← V1 = I × R1
        │ │
        └┬┘
         │
         ▼
        ┌┴┐
        │ │ R2 = 200Ω     ← V2 = I × R2
        │ │
        └┬┘
         │
         ▼
        ┌┴┐
        │ │ R3 = 300Ω     ← V3 = I × R3
        │ │
        └┬┘
         │
         ▼
        GND (0V)

    V(전체) = V1 + V2 + V3 = 5V
    I(모든 곳) = 동일
```

### 직렬 회로의 특징

| 특성 | 설명 |
|------|------|
| **전류** | 모든 부품에 **같은 전류**가 흐른다 |
| **전압** | 각 부품에서 전압이 **나누어진다** (전압 분배) |
| **전압의 합** | 각 부품에 걸리는 전압의 합 = 전체 전원 전압 |
| **총 저항** | 각 저항의 **합** |
| **하나가 끊기면** | 전체 회로가 **끊긴다** (크리스마스 전구 옛날 방식) |

### 물 비유

```text
    ┌─────────────────────────────────────────────┐
    │  직렬 = 좁은 구간이 이어진 하나의 수도관      │
    │                                             │
    │   ══╤══╤══╤══                               │
    │     ↑  ↑  ↑                                 │
    │     좁은 구간 3개 (저항 3개)                  │
    │                                             │
    │   물(전류)은 한 길로만 흐름                   │
    │   좁은 구간마다 수압(전압)이 떨어짐           │
    │   총 수압 감소 = 각 구간 수압 감소의 합       │
    └─────────────────────────────────────────────┘
```

---

## 2. 병렬 회로란?

### 개념

**병렬 회로(Parallel Circuit)**는 부품들이 **나란히 연결된** 회로입니다.
전류가 흐르는 길이 **여러 개**이어서, 각 부품에 **같은 전압**이 걸립니다.

### 병렬 회로 그림

```text
    ┌──────────────────────────────────────────┐
    │          병렬 회로 (Parallel Circuit)      │
    │                                          │
    │   전원(+)                                │
    │     │                                    │
    │     ├──┤R1├──┐                           │
    │     │        │                           │
    │     ├──┤R2├──┤                           │
    │     │        │                           │
    │     ├──┤R3├──┤                           │
    │     │        │                           │
    │   전원(-)────┘                           │
    │                                          │
    │   → 전류가 여러 길로 나뉘어 흐른다         │
    └──────────────────────────────────────────┘
```

더 자세한 그림:

```text
        (+) 5V ──────┬──────────┬──────────┬───────
                     │          │          │
                    ┌┴┐        ┌┴┐        ┌┴┐
            I1 →    │ │ R1     │ │ R2     │ │ R3
                    │ │100Ω    │ │200Ω    │ │300Ω
                    └┬┘        └┬┘        └┬┘
                     │          │          │
        GND (0V) ────┴──────────┴──────────┴───────

    V(모든 저항) = 5V (동일)
    I(전체) = I1 + I2 + I3

    I1 = 5V/100Ω = 50mA
    I2 = 5V/200Ω = 25mA
    I3 = 5V/300Ω ≈ 16.7mA
    I(전체) = 50 + 25 + 16.7 = 91.7mA
```

### 병렬 회로의 특징

| 특성 | 설명 |
|------|------|
| **전류** | 각 가지(branch)로 전류가 **나뉜다** (전류 분배) |
| **전압** | 모든 부품에 **같은 전압**이 걸린다 |
| **전류의 합** | 각 가지에 흐르는 전류의 합 = 전체 전류 |
| **총 저항** | 개별 저항보다 **작아진다** |
| **하나가 끊기면** | 나머지는 **계속 동작한다** (현대 가정 배선 방식) |

### 물 비유

```text
    ┌─────────────────────────────────────────────┐
    │  병렬 = 여러 갈래로 나뉘는 수도관             │
    │                                             │
    │        ══╤══                                │
    │       /  │  \                               │
    │      /   │   \                              │
    │   ══╤══╤══╤══                               │
    │     ↑  ↑  ↑                                 │
    │     3개의 갈래길 (저항 3개)                   │
    │                                             │
    │   물(전류)이 나뉘어 흐름                     │
    │   각 갈래에 걸리는 수압(전압)은 동일          │
    │   총 물의 양 = 각 갈래의 물 합               │
    └─────────────────────────────────────────────┘
```

---

## 3. 직렬과 병렬 비교 요약

```text
    ┌────────────────────────────────────────────────────────┐
    │              직렬 vs 병렬 한눈에 비교                    │
    ├──────────┬───────────────────┬─────────────────────────┤
    │   항목    │    직렬 (Series)   │    병렬 (Parallel)      │
    ├──────────┼───────────────────┼─────────────────────────┤
    │  전류    │  모든 곳에서 동일   │  나뉘어 흐름             │
    │  전압    │  나뉘어 분배       │  모든 곳에서 동일         │
    │  총 저항  │  합이 커짐         │  합이 작아짐             │
    │  고장 시  │  전체 끊김         │  나머지 동작             │
    │  연결 모양 │  한 줄 연결        │  나란히 연결             │
    └──────────┴───────────────────┴─────────────────────────┘
```

### 쉽게 외우기

- **직렬**: "줄 서기" → 같은 줄(같은 전류), 키(전압)는 다름
- **병렬**: "나란히 서기" → 같은 높이(같은 전압), 무게(전류)는 다름

---

## 4. 저항의 직렬/병렬 합성 공식

### 직렬 합성 저항

직렬로 연결된 저항들의 합성(전체) 저항은 **단순히 더하면** 됩니다.

```
R(전체) = R1 + R2 + R3 + ...
```

**예시:**

```text
    ──┤ 100Ω ├──┤ 220Ω ├──┤ 330Ω ├──

    R(전체) = 100 + 220 + 330 = 650Ω
```

> 직렬로 연결하면 **총 저항이 커집니다**.
> 마치 좁은 구간이 여러 개 이어지면 물이 더 힘들게 흐르는 것과 같습니다.

### 병렬 합성 저항

병렬로 연결된 저항들의 합성 저항은 **역수의 합의 역수**입니다.

```
1/R(전체) = 1/R1 + 1/R2 + 1/R3 + ...
```

**2개일 때 간편 공식:**

```
R(전체) = (R1 × R2) / (R1 + R2)
```

**예시 1: 같은 값 2개 병렬**

```text
        ──┤ 100Ω ├──
        ──┤ 100Ω ├──

    R(전체) = (100 × 100) / (100 + 100)
            = 10000 / 200
            = 50Ω

    → 같은 값 2개를 병렬 연결하면 절반이 됩니다!
```

**예시 2: 다른 값 2개 병렬**

```text
        ──┤ 100Ω ├──
        ──┤ 200Ω ├──

    R(전체) = (100 × 200) / (100 + 200)
            = 20000 / 300
            ≈ 66.7Ω
```

**예시 3: 3개 병렬**

```text
        ──┤ 100Ω ├──
        ──┤ 200Ω ├──
        ──┤ 300Ω ├──

    1/R = 1/100 + 1/200 + 1/300
    1/R = 0.01 + 0.005 + 0.00333
    1/R = 0.01833
    R = 1 / 0.01833 ≈ 54.5Ω
```

> 병렬로 연결하면 **총 저항이 작아집니다**.
> 항상 **가장 작은 저항보다도 작아**집니다.
> 마치 물길이 여러 개로 나뉘면 물이 더 쉽게 흐르는 것과 같습니다.

### 실전 팁: 원하는 저항값 만들기

가지고 있는 저항으로 정확한 값을 만들 수 없을 때:

```text
    원하는 값: 150Ω
    가진 저항: 100Ω, 47Ω, 220Ω

    방법 1 (직렬): 100Ω + 47Ω = 147Ω ≈ 150Ω ✓

    원하는 값: 110Ω
    가진 저항: 220Ω만 여러 개

    방법 2 (병렬): 220Ω ∥ 220Ω = 110Ω ✓
```

---

## 5. LED 직렬 vs 병렬 연결 (실전)

ESP32 프로젝트에서 LED 여러 개를 연결할 때, 직렬과 병렬 중 어떤 방식이 좋을까요?

### LED 직렬 연결

```text
        ESP32 GPIO (3.3V)
             │
            ┌┴┐
            │ │ R (저항)
            │ │
            └┬┘
             │
           ┌─┴─┐
           │LED1│ (Vf = 2.0V)
           └─┬─┘
             │
           ┌─┴─┐
           │LED2│ (Vf = 2.0V)    ← 안 됨! 전압 부족!
           └─┬─┘
             │
            GND

    필요한 전압: 2.0V + 2.0V = 4.0V
    사용 가능한 전압: 3.3V

    3.3V < 4.0V → 전압이 부족하여 LED가 켜지지 않음!
```

**직렬 연결의 특징:**
- 각 LED의 순방향 전압(Vf)이 합산됨
- 전원 전압 > LED 전압 합 + 저항 전압이어야 함
- 3.3V에서는 빨간 LED 1개가 한계 (Vf ≈ 2.0V)
- 5V에서는 빨간 LED 2개 가능 (2.0 + 2.0 = 4.0V, 나머지 1V는 저항)
- 전류는 같으므로 밝기가 균일함
- 저항 1개만 필요

### LED 병렬 연결

```text
        ESP32 GPIO (3.3V)
             │
             ├──┤R1├──┤LED1├──┐
             │                │
             ├──┤R2├──┤LED2├──┤
             │                │
             ├──┤R3├──┤LED3├──┤
             │                │
            GND───────────────┘

    각 LED에 3.3V가 걸림
    각 LED마다 별도의 저항 필요

    R = (3.3V - 2.0V) / 0.010A = 130Ω → 150Ω 사용
```

**병렬 연결의 특징:**
- 각 LED에 동일한 전압이 걸림
- 전원 전압이 LED 전압보다 크기만 하면 됨
- 3.3V에서 여러 개 연결 가능
- 각 LED마다 저항이 필요 (중요!)
- 총 전류 = 각 LED 전류의 합 → GPIO 핀의 전류 한계 주의!

### 주의: 병렬 LED에 저항 1개만 쓰면 안 되는 이유

```text
    ✗ 잘못된 연결 (저항 1개로 LED 여러 개 병렬)

        3.3V
         │
        ┌┴┐
        │ │ R (하나의 저항)
        └┬┘
         │
         ├──┤LED1├──┐
         │          │
         ├──┤LED2├──┤     ← 위험! 밝기 불균일, LED 손상 가능
         │          │
         ├──┤LED3├──┤
         │          │
        GND─────────┘

    문제점:
    - LED의 Vf(순방향 전압)는 개체마다 미세하게 다름
    - Vf가 약간 낮은 LED로 전류가 집중됨
    - 한쪽 LED에 과전류 → 밝기 불균일 또는 LED 손상
```

```text
    ✓ 올바른 연결 (각 LED마다 저항)

        3.3V
         │
         ├──┤R1├──┤LED1├──┐
         │                │
         ├──┤R2├──┤LED2├──┤     ← 안전! 각 LED 독립적으로 전류 제한
         │                │
         ├──┤R3├──┤LED3├──┤
         │                │
        GND───────────────┘
```

### 직렬 vs 병렬 결정 가이드

```text
┌───────────────────────────────────────────────────────────┐
│              LED 연결 방식 결정 가이드                      │
├───────────────────────────────────────────────────────────┤
│                                                           │
│  Q: 전원 전압은?                                          │
│  ├─ 3.3V (ESP32 GPIO)                                    │
│  │   └─ LED 1개: 직렬(저항 1개) 또는 병렬 모두 OK          │
│  │   └─ LED 2개+: 병렬 연결 (각각 저항 필요)               │
│  │                                                       │
│  ├─ 5V (ESP32 VIN, 라즈베리파이)                          │
│  │   └─ 빨간 LED 2개: 직렬 가능 (저항 1개)                │
│  │   └─ LED 3개+: 병렬 또는 직렬+병렬 혼합                │
│  │                                                       │
│  └─ 12V 이상                                             │
│      └─ 직렬로 여러 개 연결 가능                           │
│      └─ LED 스트립이 직렬 방식을 사용하는 이유!            │
│                                                           │
│  주의: GPIO 핀 한 개의 최대 전류를 초과하지 않도록!         │
│  ESP32 GPIO: 최대 약 12mA (안전하게 6~8mA)                │
│  라즈베리파이 GPIO: 최대 16mA                              │
│                                                           │
│  여러 LED를 한 핀으로 제어하려면                            │
│  → 트랜지스터나 MOSFET을 사용하세요 (Phase 2에서 학습)     │
│                                                           │
└───────────────────────────────────────────────────────────┘
```

### 실전 예제: ESP32에서 5V 핀으로 LED 2개 직렬 연결

```text
        ESP32 VIN (5V)
             │
            ┌┴┐
            │ │ R = ?
            │ │
            └┬┘
             │
           ┌─┴─┐
           │LED1│ (빨강, Vf = 2.0V)
           └─┬─┘
             │
           ┌─┴─┐
           │LED2│ (빨강, Vf = 2.0V)
           └─┬─┘
             │
            GND

    V(저항) = 5V - 2.0V - 2.0V = 1.0V
    I(목표) = 10mA = 0.010A
    R = 1.0V / 0.010A = 100Ω

    전력 확인:
    P(저항) = 1.0V × 0.010A = 10mW (1/4W 저항 OK)
    P(LED 각각) = 2.0V × 0.010A = 20mW (LED 정격 이내)
```

---

## 6. 연습 문제

### 문제 1: 직렬 합성 저항과 전류

100Ω, 220Ω, 330Ω 저항이 5V 전원에 직렬로 연결되어 있습니다.

(a) 합성 저항은 얼마인가요?
(b) 회로에 흐르는 전류는 얼마인가요?
(c) 220Ω 저항에 걸리는 전압은 얼마인가요?

<details>
<summary>정답 보기</summary>

```
(a) 합성 저항:
    R = 100 + 220 + 330 = 650Ω

(b) 전류:
    I = V / R = 5V / 650Ω = 0.00769A ≈ 7.7mA

(c) 220Ω에 걸리는 전압:
    V = I × R = 0.00769A × 220Ω = 1.69V

    검증: V1 + V2 + V3 = 0.769 + 1.692 + 2.538 = 4.999 ≈ 5V ✓
```

</details>

---

### 문제 2: 병렬 합성 저항과 전류

100Ω과 220Ω 저항이 3.3V 전원에 병렬로 연결되어 있습니다.

(a) 합성 저항은 얼마인가요?
(b) 각 저항에 흐르는 전류는 얼마인가요?
(c) 전체 전류는 얼마인가요?

<details>
<summary>정답 보기</summary>

```
(a) 합성 저항:
    R = (100 × 220) / (100 + 220)
    R = 22000 / 320
    R = 68.75Ω

(b) 각 저항에 흐르는 전류:
    I1 = 3.3V / 100Ω = 33mA
    I2 = 3.3V / 220Ω = 15mA

(c) 전체 전류:
    I = I1 + I2 = 33 + 15 = 48mA

    검증: I = V / R(합성) = 3.3 / 68.75 = 48mA ✓
```

</details>

---

### 문제 3: ESP32에서 LED 3개 연결 설계

ESP32의 5V(VIN) 핀으로 빨간 LED 3개(Vf = 2.0V, 적정 전류 = 10mA)를 켜려 합니다.

(a) 직렬로 3개를 연결할 수 있을까요? 이유를 설명하세요.
(b) 병렬로 연결할 때 각 저항값은 얼마인가요?
(c) 병렬 연결 시 5V 핀에서 공급해야 하는 총 전류는?

<details>
<summary>정답 보기</summary>

```
(a) 직렬 3개 가능 여부:
    필요 전압 = LED 3개 × 2.0V = 6.0V
    사용 가능 전압 = 5V
    5V < 6.0V → 불가능!
    저항에 걸릴 전압도 없으므로 LED가 제대로 켜지지 않습니다.

    참고: 직렬로 2개는 가능합니다.
    5V - 2.0V - 2.0V = 1.0V (저항에 걸리는 전압)

(b) 병렬 연결 시 각 저항값:
    R = (5V - 2.0V) / 0.010A
    R = 3.0V / 0.010A
    R = 300Ω
    → 표준 저항 330Ω 사용 (약간 작은 전류 9.1mA, 충분한 밝기)

(c) 총 전류:
    각 LED: 3.0V / 330Ω ≈ 9.1mA
    총 전류 = 9.1mA × 3 = 27.3mA
    → 5V(VIN) 핀에서 공급 가능 (USB 전원 기준 충분)

    단, GPIO 핀으로 직접 구동하면 전류가 초과됩니다!
    → 트랜지스터 사용 필요 (Phase 2에서 학습)
```

</details>

---

## 7. 핵심 정리

```text
┌──────────────────────────────────────────────────────────────┐
│                         핵심 정리                             │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ★ 직렬 회로:                                                │
│    - 전류가 동일 (한 줄로 흐름)                               │
│    - 전압이 분배됨 (각 부품에서 나뉨)                         │
│    - 합성 저항 = R1 + R2 + R3 + ...                          │
│    - 하나가 끊기면 전체 끊김                                  │
│                                                              │
│  ★ 병렬 회로:                                                │
│    - 전압이 동일 (같은 전압 걸림)                             │
│    - 전류가 분배됨 (각 가지로 나뉨)                           │
│    - 1/R(전체) = 1/R1 + 1/R2 + 1/R3 + ...                   │
│    - 2개일 때: R = (R1 × R2) / (R1 + R2)                     │
│    - 같은 값 2개 병렬 = 값의 절반                             │
│    - 하나가 끊겨도 나머지 동작                                │
│                                                              │
│  ★ LED 연결 실전 규칙:                                       │
│    - 3.3V에서 LED 여러 개 → 병렬 (각각 저항)                  │
│    - 5V에서 빨간 LED 2개 → 직렬 가능                         │
│    - 병렬 LED에는 반드시 각각 저항을 달 것!                   │
│    - GPIO 핀 전류 한계 주의 (ESP32: ~12mA)                   │
│    - 여러 LED는 트랜지스터로 제어                             │
│                                                              │
│  ★ 기억할 것:                                                │
│    - 직렬 = 전류 같고 전압 나뉨                              │
│    - 병렬 = 전압 같고 전류 나뉨                              │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

---

> **다음 학습**: [04. DC vs AC](./04-dc-ac.md)에서 직류와 교류의 차이, 그리고 왜 마이크로컨트롤러가 DC를 사용하는지 알아봅니다.
