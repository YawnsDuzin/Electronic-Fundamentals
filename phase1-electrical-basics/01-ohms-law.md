# 01. 옴의 법칙 (Ohm's Law)

## 목차
1. [전압, 전류, 저항이란?](#1-전압-전류-저항이란)
2. [물 비유로 이해하기](#2-물-비유로-이해하기)
3. [옴의 법칙 공식](#3-옴의-법칙-공식)
4. [실전 계산 예제](#4-실전-계산-예제)
5. [연습 문제](#5-연습-문제)
6. [핵심 정리](#6-핵심-정리)

---

## 1. 전압, 전류, 저항이란?

전자 회로를 이해하기 위해 가장 먼저 알아야 할 세 가지 개념이 있습니다.

### 전압 (Voltage, V)

- **단위**: 볼트 (V, Volt)
- **의미**: 전기를 밀어내는 힘, 즉 "전기적 압력"입니다
- **일상 예시**: 건전지에 적힌 1.5V, 콘센트의 220V, ESP32의 3.3V

전압은 "얼마나 세게 전기를 밀어내느냐"를 나타냅니다. 전압이 높을수록 더 강한 힘으로 전류를 흘려보냅니다.

### 전류 (Current, I)

- **단위**: 암페어 (A, Ampere), 밀리암페어 (mA, 1A = 1000mA)
- **의미**: 실제로 흐르는 전기의 양입니다
- **일상 예시**: LED에 흐르는 20mA, ESP32가 소비하는 약 80mA

전류는 "실제로 얼마나 많은 전기가 흐르고 있느냐"를 나타냅니다.

> **주의**: mA(밀리암페어)는 매우 자주 사용됩니다.
> 1A = 1000mA 이므로, 20mA = 0.020A 입니다.

### 저항 (Resistance, R)

- **단위**: 옴 (Ω, Ohm), 킬로옴 (kΩ, 1kΩ = 1000Ω)
- **의미**: 전류의 흐름을 방해하는 정도입니다
- **일상 예시**: LED 앞에 다는 220Ω 저항, 풀업 저항 10kΩ

저항이 크면 전류가 적게 흐르고, 저항이 작으면 전류가 많이 흐릅니다.

---

## 2. 물 비유로 이해하기

전기를 처음 배울 때 **물의 흐름**에 비유하면 이해가 쉽습니다.

```text
    ┌─────────────────────────────────────────────┐
    │              물 비유 (Water Analogy)          │
    ├─────────────────────────────────────────────┤
    │                                             │
    │   물탱크 (높이 = 수압)                        │
    │   ┌───────┐                                 │
    │   │~~~~~~~│ ◄── 수압 = 전압 (V)              │
    │   │~~~~~~~│     물탱크가 높을수록              │
    │   │~~~~~~~│     수압(전압)이 높다              │
    │   └───┬───┘                                 │
    │       │                                     │
    │       ▼                                     │
    │   ════╤════ ◄── 밸브 = 저항 (R)              │
    │       │         밸브를 조이면(저항↑)           │
    │       │         물(전류)이 적게 흐른다         │
    │       ▼                                     │
    │   ~~~ ↓ ~~~ ◄── 물의 흐름 = 전류 (I)         │
    │       │         실제로 흐르는 물의 양          │
    │       ▼                                     │
    │   ┌───────┐                                 │
    │   │  하류  │                                 │
    │   └───────┘                                 │
    └─────────────────────────────────────────────┘
```

| 물의 세계 | 전기의 세계 | 설명 |
|:---------:|:-----------:|------|
| 수압 (물의 압력) | 전압 (V) | 밀어내는 힘 |
| 물의 흐름량 | 전류 (I) | 실제로 흐르는 양 |
| 밸브 (좁은 파이프) | 저항 (R) | 흐름을 방해하는 정도 |

### 비유 정리

- **수압(전압)이 높으면** → 물(전류)이 더 많이 흐른다
- **밸브를 조이면(저항이 크면)** → 물(전류)이 적게 흐른다
- **수압은 같은데 밸브를 열면** → 물(전류)이 많이 흐른다

이것이 바로 옴의 법칙의 핵심입니다!

---

## 3. 옴의 법칙 공식

### 기본 공식

```
V = I × R
```

- **V** (전압, 볼트) = **I** (전류, 암페어) × **R** (저항, 옴)

### 변형 공식

하나의 공식을 변형하면, 세 가지 값 중 아무거나 구할 수 있습니다:

```text
    ┌─────────────────────────────────────────┐
    │         옴의 법칙 삼각형                   │
    │                                         │
    │              ┌───┐                      │
    │             │ V │                       │
    │            ─┴───┴─                      │
    │           │ I × R │                     │
    │            ───────                      │
    │                                         │
    │   V = I × R   (전압 구하기)              │
    │   I = V / R   (전류 구하기)              │
    │   R = V / I   (저항 구하기)              │
    └─────────────────────────────────────────┘
```

| 구하고 싶은 것 | 공식 | 언제 사용하나? |
|:---:|:---:|---|
| 전압 (V) | V = I × R | 저항에 걸리는 전압을 알고 싶을 때 |
| 전류 (I) | I = V / R | 회로에 흐르는 전류를 알고 싶을 때 |
| 저항 (R) | R = V / I | 필요한 저항값을 계산할 때 |

### 단위 주의사항

공식에 값을 넣을 때는 반드시 **기본 단위**를 사용해야 합니다:

| 값 | 기본 단위 | 자주 쓰는 단위 | 변환 |
|:---:|:---:|:---:|---|
| 전압 | V (볼트) | mV (밀리볼트) | 1V = 1000mV |
| 전류 | A (암페어) | mA (밀리암페어) | 1A = 1000mA |
| 저항 | Ω (옴) | kΩ (킬로옴) | 1kΩ = 1000Ω |

> **꿀팁**: mA로 계산할 때는 kΩ을 그대로 사용해도 됩니다.
> 예) V = 20mA × 100Ω = 20 × 0.001 × 100 = 2V
> 또는 V = 20mA × 0.1kΩ → 단위를 잘 맞추면 동일한 결과!

---

## 4. 실전 계산 예제

### 예제 1: ESP32에서 LED에 사용할 저항값 계산하기

이것은 ESP32 프로젝트에서 **가장 자주 하게 되는 계산**입니다.

**상황 설명:**
- ESP32의 GPIO 핀 출력 전압: **3.3V**
- 빨간 LED의 순방향 전압 (Vf): **2.0V** (LED가 "소비"하는 전압)
- LED에 흘려야 하는 적정 전류: **15mA** (= 0.015A)

```text
    ESP32 GPIO 핀                    GND
        (3.3V)                       (0V)
          │                           │
          │    ┌────────┐    ┌───┐    │
          ├────┤ 저항 R? ├────┤LED├────┤
          │    └────────┘    └───┘    │
          │                           │
          │◄── 3.3V ────────────────►│
          │    ◄ VR ►    ◄ 2.0V ►    │
```

**풀이 과정:**

1단계: 저항에 걸리는 전압을 구합니다.

```
V(저항) = V(전체) - V(LED)
V(저항) = 3.3V - 2.0V = 1.3V
```

2단계: 옴의 법칙으로 저항값을 구합니다.

```
R = V / I
R = 1.3V / 0.015A
R = 86.7Ω
```

3단계: 실제 저항은 표준 저항값 중에서 선택합니다.

```
86.7Ω에 가장 가까운 표준 저항 → 100Ω 또는 82Ω
안전을 위해 약간 큰 100Ω을 선택합니다.
```

> **참고**: 실제로는 보통 **220Ω**을 많이 사용합니다.
> 220Ω을 사용하면 전류가 약 5.9mA가 되어 LED가 좀 어두워지지만,
> ESP32 핀을 더 안전하게 보호할 수 있습니다.

검증 (220Ω 사용 시):
```
I = V / R = 1.3V / 220Ω = 0.0059A = 5.9mA ✓ (안전 범위)
```

---

### 예제 2: ESP32의 ADC에서 전압 분배 저항 계산하기

**상황 설명:**
- 센서 출력: **5V** (최대)
- ESP32 ADC 입력 최대 전압: **3.3V**
- 5V를 3.3V 이하로 낮추기 위해 전압 분배기를 사용

```text
        5V (센서 출력)
         │
        ┌┴┐
        │ │ R1
        │ │
        └┬┘
         ├──────── ESP32 ADC 핀 (여기서 전압 측정)
        ┌┴┐
        │ │ R2
        │ │
        └┬┘
         │
        GND
```

전압 분배 공식:
```
V(out) = V(in) × R2 / (R1 + R2)
```

R1 = 1kΩ, R2 = 2kΩ 을 사용하면:
```
V(out) = 5V × 2000 / (1000 + 2000)
V(out) = 5V × 2000 / 3000
V(out) = 5V × 0.667
V(out) = 3.33V ≈ 3.3V ✓
```

---

### 예제 3: 전류 계산하기

**상황 설명:**
- 5V 전원에 1kΩ 저항이 연결되어 있다
- 이 회로에 흐르는 전류는?

```
I = V / R
I = 5V / 1000Ω
I = 0.005A
I = 5mA
```

---

## 5. 연습 문제

### 문제 1: LED 저항 계산

ESP32 (3.3V)에 **파란색 LED** (순방향 전압 Vf = 3.0V, 적정 전류 = 10mA)를 연결하려 합니다.
필요한 저항값은 얼마일까요?

<details>
<summary>정답 보기</summary>

```
V(저항) = 3.3V - 3.0V = 0.3V
R = V / I = 0.3V / 0.010A = 30Ω

30Ω에 가까운 표준 저항: 33Ω

검증: I = 0.3V / 33Ω = 9.1mA (적정 전류 범위 내)
```

> **참고**: 파란 LED는 순방향 전압이 높아서 3.3V 전원에서는 전압 여유가 매우 적습니다.
> 이런 경우 5V 전원을 사용하는 것이 더 안정적입니다.
> 5V 사용 시: R = (5.0 - 3.0) / 0.010 = 200Ω → 220Ω 저항 사용

</details>

---

### 문제 2: 전류 계산

라즈베리파이의 GPIO 핀(3.3V)에 330Ω 저항을 통해 빨간 LED(Vf = 2.0V)를 연결했습니다.
LED에 흐르는 전류는 몇 mA일까요?

<details>
<summary>정답 보기</summary>

```
V(저항) = 3.3V - 2.0V = 1.3V
I = V / R = 1.3V / 330Ω = 0.00394A ≈ 3.9mA

답: 약 3.9mA

참고: 이 전류는 LED를 켜기에 충분하지만 밝기가 다소 낮을 수 있습니다.
일반적으로 LED는 10~20mA에서 적정 밝기로 동작합니다.
```

</details>

---

### 문제 3: 저항에 걸리는 전압 계산

ESP32의 5V(VIN) 핀에서 470Ω 저항을 통해 10mA의 전류가 흐르고 있습니다.
저항 양단에 걸리는 전압은 얼마일까요?

<details>
<summary>정답 보기</summary>

```
V = I × R
V = 0.010A × 470Ω
V = 4.7V

답: 4.7V

참고: 이는 5V 중 4.7V가 저항에서 소비된다는 뜻입니다.
나머지 0.3V가 부하(예: LED)에 걸립니다.
```

</details>

---

## 6. 핵심 정리

```text
┌──────────────────────────────────────────────────────┐
│                    핵심 정리                           │
├──────────────────────────────────────────────────────┤
│                                                      │
│  1. 전압(V) = 전기를 밀어내는 힘 (볼트, V)             │
│  2. 전류(I) = 실제 흐르는 전기의 양 (암페어, A)        │
│  3. 저항(R) = 전류의 흐름을 방해하는 것 (옴, Ω)        │
│                                                      │
│  ★ 옴의 법칙: V = I × R                              │
│    - 전류 구하기: I = V / R                           │
│    - 저항 구하기: R = V / I                           │
│                                                      │
│  ★ LED 저항 계산:                                     │
│    R = (V전원 - V_LED) / I_LED                        │
│                                                      │
│  ★ ESP32 기억할 수치:                                 │
│    - GPIO 출력: 3.3V                                  │
│    - GPIO 최대 전류: 약 12mA (안전: 6~8mA)            │
│    - 빨간 LED Vf ≈ 2.0V, 파란/흰 LED Vf ≈ 3.0V      │
│    - LED 적정 전류: 10~20mA                           │
│                                                      │
│  ★ 실전 팁:                                           │
│    - LED에는 보통 220Ω~330Ω 저항을 사용               │
│    - 계산값보다 약간 큰 저항을 선택하면 안전            │
│                                                      │
└──────────────────────────────────────────────────────┘
```

---

> **다음 학습**: [02. 전력 (P=VI)](./02-power.md)에서 전력 계산과 부품의 정격에 대해 알아봅니다.
