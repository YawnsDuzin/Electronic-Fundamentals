# 02. 전력 (Power, P=VI)

## 목차
1. [전력이란?](#1-전력이란)
2. [전력 공식](#2-전력-공식)
3. [부품이 왜 타는가? - 정격 전력](#3-부품이-왜-타는가---정격-전력)
4. [실전 계산 예제](#4-실전-계산-예제)
5. [배터리 수명 계산](#5-배터리-수명-계산)
6. [연습 문제](#6-연습-문제)
7. [핵심 정리](#7-핵심-정리)

---

## 1. 전력이란?

### 개념

**전력(Power)**은 전기 에너지가 **단위 시간당 소비되는 양**입니다.

쉽게 말하면, "이 부품이 **얼마나 많은 전기를 먹고 있는가**"를 나타냅니다.

### 단위

| 단위 | 기호 | 크기 | 사용 예시 |
|:---:|:---:|:---:|---|
| 와트 | W | 기본 단위 | 전구 60W, 전자레인지 1000W |
| 밀리와트 | mW | 1W = 1000mW | LED 50mW, 센서 10mW |
| 마이크로와트 | μW | 1mW = 1000μW | 슬립 모드 ESP32 |
| 킬로와트 | kW | 1kW = 1000W | 에어컨 2kW |

### 일상 비유

전력은 **수도꼭지에서 나오는 물의 양**과 비슷합니다.

```text
    ┌────────────────────────────────────────────┐
    │              전력 비유                       │
    ├────────────────────────────────────────────┤
    │                                            │
    │  수압(전압) × 물의 흐름(전류) = 물 소비량     │
    │                                            │
    │  높은 수압 + 많은 물 흐름 = 물 많이 소비     │
    │  → 높은 전압 + 큰 전류 = 전력 많이 소비      │
    │                                            │
    │  낮은 수압 + 적은 물 흐름 = 물 적게 소비     │
    │  → 낮은 전압 + 작은 전류 = 전력 적게 소비    │
    │                                            │
    └────────────────────────────────────────────┘
```

---

## 2. 전력 공식

### 기본 공식

```
P = V × I
```

- **P** (전력, 와트) = **V** (전압, 볼트) × **I** (전류, 암페어)

### 변형 공식

옴의 법칙(V=IR)을 결합하면 세 가지 형태로 전력을 계산할 수 있습니다:

```text
    ┌──────────────────────────────────────────┐
    │           전력 계산 공식 3가지              │
    ├──────────────────────────────────────────┤
    │                                          │
    │   ① P = V × I                            │
    │      전압과 전류를 알 때                   │
    │                                          │
    │   ② P = I² × R                           │
    │      전류와 저항을 알 때                   │
    │      (V = IR을 ①에 대입)                  │
    │                                          │
    │   ③ P = V² / R                           │
    │      전압과 저항을 알 때                   │
    │      (I = V/R을 ①에 대입)                 │
    │                                          │
    └──────────────────────────────────────────┘
```

### 공식 유도 과정

왜 세 가지 공식이 되는지 궁금하다면:

```
기본:  P = V × I

②번 유도:
  옴의 법칙에서 V = I × R 이므로
  P = (I × R) × I = I² × R

③번 유도:
  옴의 법칙에서 I = V / R 이므로
  P = V × (V / R) = V² / R
```

### 어떤 공식을 언제 사용할까?

| 알고 있는 값 | 사용할 공식 | 예시 상황 |
|:---:|:---:|---|
| V, I | P = V × I | ESP32의 전압과 소비 전류를 알 때 |
| I, R | P = I² × R | 저항에 흐르는 전류를 알 때 |
| V, R | P = V² / R | 전원 전압과 저항값을 알 때 |

---

## 3. 부품이 왜 타는가? - 정격 전력

### 정격 전력이란?

모든 전자 부품에는 **정격 전력(Power Rating)**이 있습니다.
이것은 부품이 **안전하게 처리할 수 있는 최대 전력**입니다.

정격 전력을 초과하면 부품이 **과열**되어 **타거나 손상**됩니다.

### 흔한 부품의 정격 전력

| 부품 | 일반적인 정격 전력 | 주의사항 |
|------|:---:|---|
| 일반 저항 (1/4W) | 0.25W (250mW) | 가장 흔한 저항. 대부분의 LED 회로에 충분 |
| 소형 저항 (1/8W) | 0.125W (125mW) | 표면실장(SMD) 저항에 많음 |
| 대형 저항 (1/2W) | 0.5W (500mW) | 좀 더 큰 전력을 다룰 때 |
| 대형 저항 (1W, 2W) | 1~2W | 전원부 회로에 사용 |
| LED | 50~100mW | 일반적인 표시용 LED |
| ESP32 모듈 | ~500mW | 동작 상태에 따라 다름 |

### 예시: 저항이 타는 경우

```text
상황: 1/4W(0.25W) 저항에 너무 큰 전류가 흐를 때

    12V 전원
      │
     ┌┴┐
     │ │ 100Ω 저항 (1/4W 정격)
     │ │
     └┬┘
      │
     GND

계산:
  P = V² / R = 12² / 100 = 144 / 100 = 1.44W

  정격: 0.25W
  실제: 1.44W  ← 정격의 5.76배!

  결과: 저항이 과열되어 타버림! 🔥 (연기 + 냄새)
```

### 안전 수칙

```text
┌─────────────────────────────────────────────────┐
│              전력 안전 수칙                       │
├─────────────────────────────────────────────────┤
│                                                 │
│  1. 항상 정격 전력의 50% 이하로 사용하세요         │
│     → 1/4W 저항이면 0.125W 이하로 사용            │
│                                                 │
│  2. 부품이 만졌을 때 뜨거우면                     │
│     → 전력 소비가 너무 큰 것입니다                │
│     → 저항값을 키우거나 정격이 큰 부품으로 교체    │
│                                                 │
│  3. ESP32/라즈베리파이 회로에서는                  │
│     → 3.3V~5V, 수 mA 수준이므로                  │
│     → 1/4W 저항으로 거의 항상 충분합니다           │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 1/4W 저항은 언제 안전한가?

ESP32(3.3V)에서 가장 흔한 경우를 확인해 봅시다:

```
220Ω 저항, 3.3V 전원:
P = V² / R = 3.3² / 220 = 10.89 / 220 = 0.0495W = 49.5mW

정격 250mW vs 실제 49.5mW → 정격의 약 20%만 사용. 매우 안전!
```

---

## 4. 실전 계산 예제

### 예제 1: ESP32 + 센서 3개의 총 소비 전력

**상황 설명:**
ESP32 프로젝트에 다음 부품들을 사용합니다:

| 부품 | 동작 전압 | 소비 전류 |
|------|:---:|:---:|
| ESP32 (Wi-Fi 활성) | 3.3V | 240mA |
| DHT22 온습도 센서 | 3.3V | 1.5mA |
| BMP280 기압 센서 | 3.3V | 0.7mA |
| OLED 디스플레이 (0.96") | 3.3V | 20mA |

**풀이:**

1단계: 각 부품의 전력 계산 (P = V × I)

```
ESP32:    P = 3.3V × 0.240A = 0.792W = 792mW
DHT22:   P = 3.3V × 0.0015A = 0.00495W ≈ 5.0mW
BMP280:  P = 3.3V × 0.0007A = 0.00231W ≈ 2.3mW
OLED:    P = 3.3V × 0.020A = 0.066W = 66mW
```

2단계: 총 소비 전력

```
총 전력 = 792 + 5.0 + 2.3 + 66 = 865.3mW ≈ 0.87W
총 전류 = 240 + 1.5 + 0.7 + 20 = 262.2mA
```

3단계: 전원 선택

```
USB 전원 (5V, 500mA 기준):
  공급 가능 전력 = 5V × 0.5A = 2.5W
  필요 전력 = 0.87W
  → 충분합니다! ✓

단, 3.3V 레귤레이터의 효율(약 80%)을 고려하면:
  실제 5V측 소비 전류 ≈ 262.2mA × 3.3V / (5V × 0.8) ≈ 216mA
  → USB 500mA 이내. 문제 없음 ✓
```

---

### 예제 2: LED에 사용하는 저항의 전력 확인

**상황:**
ESP32 (3.3V) → 100Ω 저항 → 빨간 LED (Vf=2.0V)

```
저항에 걸리는 전압: V(R) = 3.3 - 2.0 = 1.3V
전류: I = 1.3V / 100Ω = 13mA = 0.013A

저항에서 소비하는 전력:
  P = V × I = 1.3V × 0.013A = 0.0169W = 16.9mW

1/4W (250mW) 저항 사용 시:
  16.9mW / 250mW = 6.8% → 매우 안전! ✓

LED에서 소비하는 전력:
  P(LED) = V(LED) × I = 2.0V × 0.013A = 26mW

일반 LED 정격(약 50~100mW) 대비:
  26mW → 안전! ✓
```

---

### 예제 3: 전원 어댑터 선택하기

**상황:**
라즈베리파이 4 + ESP32 + 모터 드라이버를 사용하는 프로젝트

| 부품 | 전압 | 최대 전류 |
|------|:---:|:---:|
| 라즈베리파이 4 | 5V | 3.0A |
| ESP32 (UART 통신) | 5V (USB) | 0.5A |
| 소형 DC 모터 × 2 | 5V | 0.3A × 2 |

```
총 전류 = 3.0 + 0.5 + 0.6 = 4.1A
총 전력 = 5V × 4.1A = 20.5W

필요한 어댑터: 5V, 최소 5A (여유 포함)
→ 5V 5A (25W) 어댑터 선택
```

> **중요**: 전원은 항상 실제 소비량보다 **20~30% 이상 여유**가 있는 것을 선택하세요.

---

## 5. 배터리 수명 계산

IoT 프로젝트에서 배터리로 동작시킬 때 "얼마나 오래 가는가?"는 매우 중요합니다.

### 배터리 용량 단위: mAh

- **mAh** (밀리암페어시) = 밀리암페어 × 시간
- 의미: "1시간 동안 몇 mA를 공급할 수 있는가"

| 배터리 종류 | 전압 | 용량 (대략) |
|---|:---:|:---:|
| CR2032 코인 셀 | 3V | 220mAh |
| AA 알카라인 건전지 | 1.5V | 2500mAh |
| 18650 리튬이온 | 3.7V | 2500~3500mAh |
| 리폴 배터리 (소형) | 3.7V | 500~2000mAh |

### 배터리 수명 공식

```
배터리 수명(시간) = 배터리 용량(mAh) / 소비 전류(mA)
```

### 예제: ESP32 딥슬립 활용 배터리 수명

**상황:** 18650 배터리(3000mAh)로 ESP32 온도 센서 운영

| 동작 모드 | 소비 전류 | 시간 비율 |
|---|:---:|:---:|
| 딥슬립 (대부분의 시간) | 10μA (0.01mA) | 99.7% |
| 깨어남 + 측정 + Wi-Fi 전송 | 160mA | 0.3% |

**풀이:**

1단계: 평균 소비 전류 계산

```
동작 주기: 5분마다 한 번 깨어남
  - 딥슬립: 295초 (약 4분 55초)
  - 활성: 5초

한 주기(300초)의 평균 전류:
  평균전류 = (0.01mA × 295초 + 160mA × 5초) / 300초
  평균전류 = (2.95 + 800) / 300
  평균전류 = 802.95 / 300
  평균전류 ≈ 2.68mA
```

2단계: 배터리 수명 계산

```
수명 = 3000mAh / 2.68mA = 1119시간 ≈ 46.6일
```

3단계: 실제 수명 보정 (배터리 효율 80% 적용)

```
실제 수명 ≈ 46.6일 × 0.8 = 37.3일 ≈ 약 5주
```

> **참고**: 딥슬립 시간을 10분으로 늘리면 평균 전류가 더 줄어 수명이 크게 늘어납니다!
> 실제 IoT 프로젝트에서는 딥슬립 활용이 배터리 수명의 핵심입니다.

---

## 6. 연습 문제

### 문제 1: 저항의 전력 계산

5V 전원에 470Ω 저항이 연결되어 있습니다.
이 저항에서 소비되는 전력은 몇 mW일까요?
이 저항에 1/4W(250mW) 저항을 사용해도 안전할까요?

<details>
<summary>정답 보기</summary>

```
P = V² / R
P = 5² / 470
P = 25 / 470
P = 0.0532W = 53.2mW

정격 250mW vs 실제 53.2mW
53.2 / 250 = 21.3% → 정격의 약 21%만 사용

답: 53.2mW, 1/4W 저항으로 안전합니다.
(정격의 50% 이하이므로 충분한 여유가 있습니다)
```

</details>

---

### 문제 2: 전원 용량 계산

다음 부품들을 5V USB 전원(최대 500mA)으로 운영할 수 있을까요?

| 부품 | 소비 전류 |
|------|:---:|
| ESP32 (Bluetooth 활성) | 130mA |
| 서보 모터 SG90 | 200mA |
| LED × 4개 | 20mA × 4 |
| 부저 | 30mA |

<details>
<summary>정답 보기</summary>

```
총 전류 = 130 + 200 + 80 + 30 = 440mA
총 전력 = 5V × 0.440A = 2.2W

USB 최대: 500mA (2.5W)
필요량: 440mA (2.2W)

답: 이론적으로는 가능하지만 여유가 60mA밖에 없습니다.
서보 모터는 순간적으로 더 많은 전류를 소비할 수 있으므로,
실전에서는 별도의 전원(5V 2A 어댑터 등)을 사용하는 것이 안전합니다.

특히 서보 모터의 돌입 전류(순간적으로 높은 전류)를 고려하면
USB 전원만으로는 불안정할 수 있습니다.
```

</details>

---

### 문제 3: 배터리 수명 계산

3.7V 1000mAh 리폴 배터리로 다음 시스템을 운영합니다.

- ESP32 딥슬립: 소비 전류 15μA (0.015mA)
- 30분마다 한 번 깨어남: 깨어있는 시간 10초, 소비 전류 200mA

배터리는 대략 며칠 동안 사용할 수 있을까요? (배터리 효율 80% 적용)

<details>
<summary>정답 보기</summary>

```
한 주기: 30분 = 1800초
  - 딥슬립: 1790초
  - 활성: 10초

평균 전류:
  = (0.015mA × 1790 + 200mA × 10) / 1800
  = (26.85 + 2000) / 1800
  = 2026.85 / 1800
  ≈ 1.13mA

이론적 수명:
  = 1000mAh / 1.13mA = 885시간 ≈ 36.9일

실제 수명 (80% 효율):
  = 36.9 × 0.8 ≈ 29.5일

답: 약 29~30일 (약 4주)
```

</details>

---

## 7. 핵심 정리

```text
┌──────────────────────────────────────────────────────────┐
│                       핵심 정리                           │
├──────────────────────────────────────────────────────────┤
│                                                          │
│  ★ 전력 = 전기 에너지의 소비 속도                          │
│                                                          │
│  ★ 전력 공식 3가지:                                       │
│    ① P = V × I    (전압 × 전류)                          │
│    ② P = I² × R   (전류² × 저항)                         │
│    ③ P = V² / R   (전압² ÷ 저항)                         │
│                                                          │
│  ★ 정격 전력:                                             │
│    - 부품이 안전하게 처리할 수 있는 최대 전력               │
│    - 정격의 50% 이하로 사용하는 것이 안전                  │
│    - 초과 시 부품 과열 → 손상/화재 위험                    │
│                                                          │
│  ★ 전원 선택:                                             │
│    - 모든 부품의 전류를 합산하여 계산                      │
│    - 실제 소비량보다 20~30% 여유를 두고 선택               │
│                                                          │
│  ★ 배터리 수명:                                           │
│    - 수명(h) = 배터리용량(mAh) / 평균전류(mA)              │
│    - 딥슬립 활용이 IoT 배터리 수명의 핵심                  │
│    - 실제 수명은 이론의 70~80% 정도                       │
│                                                          │
│  ★ ESP32 프로젝트 실전 수치:                               │
│    - ESP32 Wi-Fi 활성: 약 240mA                           │
│    - ESP32 Bluetooth: 약 130mA                            │
│    - ESP32 딥슬립: 약 10μA                                │
│    - 일반 LED: 약 10~20mA                                 │
│    - 소형 센서: 대부분 1~5mA                              │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

---

> **다음 학습**: [03. 직렬 vs 병렬 회로](./03-series-parallel.md)에서 부품 연결 방식에 따른 전압과 전류의 변화를 알아봅니다.
